--
-- CASO A TABELA EXISTA, IRÁ ELIMINAR FISICAMENTE SUA ESTRUTURA E DADOS
-- ASSOCIADOS A ELA.
DROP TABLE db_auditoria_operacao CASCADE CONSTRAINTS;

-- CASO A TABELA NÃO EXISTA, IRÁ CRIAR FISICAMENTE SUA ESTRUTURA 
-- PARA POSTERIORMENTE RECEBER OS DADOS DE AUDITORIA
-- ANALISE A COLUNA NR_SEQUENCIA, QUE FOI CRIADA COMO AUTO INCREMENTO AUTOMATICAMENTE
-- VÁLIDO PARA ORACLE 12C ou superior
--
CREATE TABLE db_auditoria_operacao (
    nr_sequencial NUMBER(10)  GENERATED by default on null as IDENTITY
    (START with 1 INCREMENT by 1),
    dt_evento     DATE NOT NULL,
    nm_usuario    VARCHAR2(100) NOT NULL,
    nm_localizacao_evento VARCHAR2(100) NOT NULL,
    tp_evento     VARCHAR2(40)   NOT NULL,
    ds_evento     VARCHAR2(4000) NOT NULL
);
