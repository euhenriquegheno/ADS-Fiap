--
-- INSERE E AUTALIZA DADOS NA TABELA DB_PRODUTO
-- E DEPOIS VERIFICAMOS O RESULTADO NA TABELA
-- DB_AUDITORIA_OPERACAO, ONDE TEMOS OS DMLs REALIZADOS
--
--
-- INSERE E AUTALIZA DADOS NA TABELA DB_PRODUTO
-- E DEPOIS VERIFICAMOS O RESULTADO NA TABELA
-- DB_AUDITORIA_OPERACAO, ONDE TEMOS OS DMLs REALIZADOS
--
INSERT INTO DB_PRODUTO(
CD_PRODUTO, CD_SUB_CATEGORIA_PROD, DS_PRODUTO,
VL_UNITARIO, TP_EMBALAGEM, ST_PRODUTO, VL_PERC_LUCRO
)
VALUES
(
SQ_DB_PRODUTO.NEXTVAL,
11, 'Abobrinha Desidratada Crocante 50g', 13, 
'Saco', 'A', 40);

DECLARE 
    V_CD_PRODUTO NUMBER := SQ_DB_PRODUTO.CURRVAL;
BEGIN
UPDATE DB_PRODUTO SET
DS_PRODUTO = 'Abobrinha Desidratada Crocante 90g', 
VL_UNITARIO = 23,
VL_PERC_LUCRO = 88
WHERE CD_PRODUTO = V_CD_PRODUTO;
END;
/

COMMIT;

ALTER SESSION SET NLS_DATE_FORMAT = 'DD/MM/YYYY HH24:SS';
COLUMN NM_USUARIO FORMAT A10;
COLUMN NM_LOCALIZACAO_EVENTO FORMAT A15;
COLUMN TP_EVENTO FORMAT A10;
COLUMN DS_EVENTO FORMAT A18;
SELECT * FROM DB_AUDITORIA_OPERACAO;
