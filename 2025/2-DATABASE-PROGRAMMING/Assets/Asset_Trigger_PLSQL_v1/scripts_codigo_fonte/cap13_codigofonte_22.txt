-- CRIA A TRIGGER DENTRO DA TABELA DB_PRODUTO_LOJA
-- E PARA CADA INSERT, IREMOS PREENCHER AUTOMATICAMENTE
-- AS COLUNAS CD_PRODUTO_LOJA(PK), DT_CADASTO E ST_ATUAL
CREATE OR REPLACE TRIGGER TRG_DB_ASSOCIA_PRODUTO_LOJA
BEFORE INSERT
ON DB_PRODUTO_LOJA
FOR EACH ROW
BEGIN
	-- PERCEBA QUE EM UM ÚNICO COMANDO SQL PREENCHEMOS
	-- OS DADOS NECESSÁRIOS PARA INSERIR DADOS 
	-- NA TABELA DB_PRODUTO_LOJA
	--
	SELECT 	SQ_DB_PRODUTO_LOJA.NEXTVAL, SYSDATE, 'I'
	INTO  	:NEW.CD_PRODUTO_LOJA, :NEW.DT_CADASTRO, :NEW.ST_ATUAL
	FROM DUAL;
END TRG_DB_ASSOCIA_PRODUTO_LOJA;
